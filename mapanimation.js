// This array contains the coordinates for all bus stops between MIT and Harvard
const busStops = [
  [-73.96965776384062, 40.862768458451214],
  [-73.96764440395529, 40.863628582238775],
  [-73.96761923079085, 40.862383398864395],
  [-73.9684721732089, 40.860594229308894],
  [-73.97024243108615, 40.858456087990916],
  [-73.97146551839428, 40.85730787356739],
  [-73.97545790586415, 40.85250336995558],
  [-73.9774838424001, 40.850241420420645],
  [-73.97872257540517, 40.84567557869442],
  [-73.97938846540123, 40.84338627824817],
  [-73.98052274722711, 40.8415025959126],
  [-73.98139620490566, 40.83996303015309],
  [-73.98221507148324, 40.838159558905645],
  [-73.9837100805043, 40.83598890378338],
  [-73.98370722835737, 40.83480946938548],
  [-73.98454732478855, 40.83288194391031],
  [-73.98511446570508, 40.831551000758125],
  [-73.98636096258645, 40.828866085847466],
  [-73.98753770416562, 40.82613745835698],
  [-73.98767114909846, 40.823996244811696],
  [-73.98812000929608, 40.820223134359956],
  [-73.98886305487437, 40.817852207594946],
  [-73.98954241084519, 40.81541922271583],
  [-73.99040373715866, 40.81340161381661],
  [-73.99299415234964, 40.8048241702869],
  [-73.99377046470558, 40.80311360505557],
  [-73.99566870787199, 40.798142653541895],
  [-73.99755631671209, 40.79372282288373],
  [-73.99938011901621, 40.790454052099285],
  [-74.00296391707879, 40.78586864556467],
  [-74.00751012975957, 40.783179251926406],
  [-74.01050371782932, 40.78013946185951],
  [-74.01277416557956, 40.77580701733321],
  [-74.01647494222209, 40.769263524158895],
  [-74.02231963726103, 40.75995899408322],
  [-74.02299047956346, 40.76611357196976],
  [-74.01072909432861, 40.76360587593703],
  [-73.99045484122726, 40.75706970747872],
];

// TODO: add your own access token
mapboxgl.accessToken = 'pk.eyJ1IjoibHlkaWFtb29uIiwiYSI6ImNsZXdicmNhejByODczdnBiamw1MjIya2QifQ.HJcydi3Wh8jukR0ZxW-bDw';

// This is the map instance
let map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/mapbox/streets-v11',
  center: [-73.97831531385216, 40.81247501321027],
  zoom: 11.5,
});

// TODO: add a marker to the map at the first coordinates in the array busStops. The marker variable should be named "marker"
var marker = new mapboxgl.Marker()
.setLngLat([-73.96965776384062, 40.862768458451214])
.addTo(map);
// counter here represents the index of the current bus stop
let counter = 0;
function move() {
  setTimeout(() => {
  if (counter >= busStops.length) return;
  marker.setLngLat(busStops[counter]);
  counter ++;
  move();
  }, 1000);
  // TODO: move the marker on the map every 1000ms. Use the function marker.setLngLat() to update the marker coordinates
  // Use counter to access bus stops in the array busStops
  // Make sure you call move() after you increment the counter.
}